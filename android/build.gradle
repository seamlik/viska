apply plugin: 'com.android.application'
apply plugin: 'kotlin-android'
apply plugin: 'kotlin-android-extensions'
apply plugin: 'com.diffplug.gradle.spotless'
apply plugin: 'realm-android'

repositories {
  google()
  jcenter()
}

android {
  compileSdkVersion 29
  compileOptions {
    sourceCompatibility 8
    targetCompatibility sourceCompatibility
  }
  defaultConfig {
    applicationId 'viska.android'
    minSdkVersion 28
    targetSdkVersion 29
    versionName '0'
    versionCode 1
  }
  splits {
    abi {
      enable true
      reset()
      include 'arm64-v8a', 'x86_64'
    }
  }
  sourceSets {
    main {
      java {
        srcDir '../target/riko/jni'
      }
    }
  }
}

spotless {
  java {
    googleJavaFormat('1.8')
    target '**/*.java'
  }
  kotlin {
    ktfmt('0.13')
    target '**/*.kt'
  }
}

dependencies {
  annotationProcessor 'org.projectlombok:lombok:1.18.12'
  compileOnly 'org.projectlombok:lombok:1.18.12'
  implementation "org.jetbrains.kotlin:kotlin-stdlib-jdk8:$kotlin_version"
  implementation 'androidx.constraintlayout:constraintlayout:2.0.0-beta7'
  implementation 'androidx.core:core-ktx:1.3.0'
  implementation 'androidx.lifecycle:lifecycle-extensions:2.2.0'
  implementation 'androidx.lifecycle:lifecycle-viewmodel-ktx:2.2.0'
  implementation 'com.google.android.material:material:1.3.0-alpha01'
  implementation 'com.google.android:flexbox:2.0.1'
  implementation 'com.uber.autodispose:autodispose-android-archcomponents:1.4.0'
  implementation 'commons-codec:commons-codec:1.14'
  implementation 'commons-io:commons-io:2.6'
  implementation 'io.reactivex.rxjava2:rxjava:2.2.18'
  implementation 'io.realm:android-adapters:2.1.1'
  implementation 'riko:riko-runtime-jni:0.0.1'
}